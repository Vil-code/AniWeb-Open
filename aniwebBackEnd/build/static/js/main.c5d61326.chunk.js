(this.webpackJsonpaniweb=this.webpackJsonpaniweb||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(31),a=n.n(s),c=n(9),i=n(3),o=n(5),l=n.n(o),u=n(6),d=n(0),m=function(e){var t=e.title,n=e.description,r=e.url,s=e.id;return Object(d.jsx)("div",{className:"animeobject",children:Object(d.jsxs)(u.b,{style:{textDecoration:"none"},to:"/animelist/"+s,children:[Object(d.jsx)("div",{className:"animeobject-title",children:t}),Object(d.jsxs)("div",{className:"animeobject-img",children:[Object(d.jsx)("img",{className:"actual-img",src:r,alt:"No picture"}),Object(d.jsx)("div",{className:"animeobject-description",children:n})]})]})})},j=n(2),b=n.n(j),p=n(17),f=n(4),h="/api/animelist",O="/api/news",x="/api/users",v=null,g=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.a.get("".concat(x,"/").concat(t));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.a.get("".concat(h,"/").concat(t));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("".concat(O,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/login/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post(x,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,l.a.post(h,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,l.a.post(O,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:v}},e.next=3,l.a.put("".concat(h,"/").concat(t),n,r);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:v}},e.next=3,l.a.put("".concat(O,"/").concat(t),n,r);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:v}},e.next=3,l.a.put("".concat(x,"/").concat(t),n,r);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L={getAll:function(){return l.a.get(h).then((function(e){return e}))},login:w,create:S,createNews:C,createUser:k,setToken:function(e){v="bearer ".concat(e)},update:T,del:function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:v,user_id:n}},e.next=3,l.a.delete("".concat(h,"/").concat(t),r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUser:function(){return l.a.get(x).then((function(e){return e}))},delN:function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:v,user_id:n}},e.next=3,l.a.delete("".concat(O,"/").concat(t),r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateN:E,updateP:A,getAllN:function(){return l.a.get("/api/animelist/news").then((function(e){return e}))},getUserId:g,getAnimeId:N,getNewsId:y},_=function(e){var t=e.message;return null===t?null:Object(d.jsx)("div",{className:"error",children:t})},q=function(e){var t=e.id,n=e.animes,s=e.setErrorMessage,a=e.setHelper,c=e.helper,o=e.user,l=Object(r.useState)(""),u=Object(i.a)(l,2),m=u[0],j=u[1],p=Object(r.useState)(),h=Object(i.a)(p,2),O=h[0],x=h[1],v=function(){var e=Object(f.a)(b.a.mark((function e(t,r,i){var o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,document.querySelector(".container-form-2").style.display="none",(o=n.data.find((function(e){return e._id==r}))).comment.push(i),e.next=7,L.update(r,o);case 7:j(""),a(!c),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),s("Could not post comment"),O&&clearTimeout(O),l=setTimeout((function(){s(null)}),3e3),x(l);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container-form-2",children:[Object(d.jsx)("h2",{className:"login-title",children:" Post a comment "}),Object(d.jsxs)("form",{onSubmit:function(e){return v(e,t,{text:m,person:o.username})},className:"form",children:[Object(d.jsx)("label",{htmlFor:"comment",children:" Comment "}),Object(d.jsx)("textarea",{className:"comment-desc",minLength:2,maxLength:1e3,required:!0,id:"comment",type:"text",value:m,name:"comment",onChange:function(e){var t=e.target;return j(t.value)}}),Object(d.jsx)("button",{className:"create-comment-button",id:"login-button",type:"submit",children:" Post "})]}),Object(d.jsx)("button",{className:"hide-login",onClick:function(){return document.getElementsByClassName("container-form-2")[0].style.display="none"},children:" Cancel "})]})},M=function(e){var t=e.title,n=e.description,s=e.genres,a=e.url,c=e.username,o=e.comment,l=e.id,u=e.deleteAnime,m=e.user,j=e.animes,h=e.setAnimes,O=Object(r.useState)(!1),x=Object(i.a)(O,2),v=x[0],g=x[1],N=Object(r.useState)(),y=Object(i.a)(N,2),w=y[0],k=y[1],S=Object(r.useState)(null),C=Object(i.a)(S,2),T=C[0],E=C[1],A=Object(r.useState)(),M=Object(i.a)(A,2),D=M[0],P=M[1],F=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,s,a,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=Object(p.a)({},w),s=Object(p.a)(Object(p.a)({},r),{},{likes:r.likes+1}),e.next=6,L.update(n,s);case 6:if(a=e.sent,g(!v),"already liked"!=a.message){e.next=14;break}return E("already liked the anime"),D&&clearTimeout(D),c=setTimeout((function(){E(null)}),3e3),P(c),e.abrupt("return");case 14:r.likes=r.likes+1,e.next=23;break;case 17:e.prev=17,e.t0=e.catch(1),E("could not like the anime"),D&&clearTimeout(D),i=setTimeout((function(){E(null)}),3e3),P(i);case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAnimeId(l);case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{message:T}),Object(d.jsx)(q,{user:m,helper:v,setHelper:g,animes:j,setAnimes:h,setErrorMessage:E,id:l}),Object(d.jsxs)("div",{className:"animeobject-img",children:[Object(d.jsx)("div",{className:"animeobject-title",children:t}),Object(d.jsx)("img",{className:"actual-img",src:a,alt:"No picture"})]}),Object(d.jsxs)("button",{className:"likes",onClick:function(e){return F(e,l)},children:["Likes:  ",w?w.likes:0," "]}),Object(d.jsxs)("div",{className:"g",children:[" ",Object(d.jsx)("div",{className:"genres-text",children:" Genres "})," ",s," "]}),Object(d.jsxs)("div",{className:"animeobject-description-2",children:[Object(d.jsx)("div",{className:"d",children:" Description "}),Object(d.jsx)("span",{className:"description-main",children:n})]}),Object(d.jsx)("button",{className:"show-comment-form",onClick:function(){return document.querySelector(".container-form-2").style.display="block"},children:" Comment "}),c==m.username?Object(d.jsx)("button",{className:"delete-anime",onClick:function(){return u(t,l)},children:" Delete "}):"",Object(d.jsx)("div",{className:"all-comments",children:o.slice(0).reverse().map((function(e){return Object(d.jsxs)("div",{className:"comment-container",children:[Object(d.jsxs)("div",{className:"comment-time",children:[" ",e.date?e.date.slice(0,19).replace("T"," ").replace(/-/g,"/"):(new Date).toJSON().slice(0,19).replace("T"," ").replace(/-/g,"/"),"  ","posted by "+e.person," "]})," ",Object(d.jsxs)("div",{className:"comment-d",children:[" ",e.text," "]})," "]},Math.random())}))})]})},D=n(7),P=n(16),F=function(){document.getElementsByClassName("sidebar")[0].style.left="0px"},B=function(e){return Object(P.a)(e),Object(d.jsxs)("div",{className:"header-main",children:[Object(d.jsxs)("button",{onClick:F,className:"open-sidebar",children:[Object(d.jsx)("i",{className:"gg-menu-boxed"}),"  "]}),Object(d.jsxs)("ul",{className:"ul-header",children:[Object(d.jsx)("li",{className:"main",children:Object(d.jsx)(u.b,{to:"/",children:" Main "})}),Object(d.jsx)("li",{className:"animelist",children:Object(d.jsx)(u.b,{to:"/animelist",children:" Anime "})}),Object(d.jsx)("li",{className:"news",children:Object(d.jsx)(u.b,{to:"/news",children:" News "})}),Object(d.jsx)("li",{className:"about",children:Object(d.jsx)(u.b,{to:"/about",children:" About "})})]})]})},U=(n(61),[{label:"All Genres",value:"Genre"},{label:"Shounen",value:"Shounen"},{label:"Comedy",value:"Comedy"},{label:"Romance",value:"Romance"},{label:"Mystery",value:"Mystery"},{label:"Seinen",value:"Seinen"},{label:"Fantasy",value:"Fantasy"},{label:"Drama",value:"Drama"},{label:"Sports",value:"Sports"},{label:"Philosophy",value:"Philosophy"},{label:"Politics",value:"Politics"}]),I=[{label:"Any Order",value:"Order"},{label:"Likes",value:"Likes"},{label:"Newest",value:"Newest"},{label:"Oldest",value:"Oldest"}],G=function(e){var t=e.user,n=e.genre,r=e.setGenre,s=e.order,a=e.setOrder,c=e.search,i=e.setSearch;return Object(d.jsxs)("div",{className:"scroll-menu",children:[Object(d.jsx)("input",{value:c||"",onChange:function(e){return i(e.target.value)},className:"search-bar",type:"text",placeholder:"Search any titles..."}),Object(d.jsx)("select",{value:n,onChange:function(e){return r(e.target.value)},className:"genre-box",children:U.map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(d.jsx)("select",{value:s,onChange:function(e){return a(e.target.value)},className:"order-box",children:I.map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.label},e.value)}))}),t?Object(d.jsx)("button",{className:"view-animeform",onClick:function(){return document.querySelector(".anime-form").style.display="block"},children:" Post "}):""]})},R=function(e){var t=e.title,n=e.date,r=e.description,s=e.id;return Object(d.jsxs)("div",{className:"news-main",children:[Object(d.jsxs)("div",{className:"news-title",children:[t,Object(d.jsx)("br",{}),n]}),Object(d.jsx)("div",{className:"news-description",children:r}),Object(d.jsxs)(u.b,{style:{textDecoration:"none"},to:"/news/"+s,children:[" ",Object(d.jsx)("div",{className:"read-more",children:" Read more "})]})]})},z=function(e){return Object(P.a)(e),Object(d.jsxs)("div",{className:"about-container",children:[Object(d.jsxs)("div",{className:"about-item",children:[" ",Object(d.jsx)("div",{className:"about-title",children:" About this site "})," This site is meant for posting Japanese animation titles and news regarding them. It also has comment functionality for being able to interreact with other posters, and the ability to monitor your animes, news and comments through the sidebar profile. "]}),Object(d.jsxs)("div",{className:"about-item",children:[" ",Object(d.jsx)("div",{className:"about-functions",children:"  Site functions "})," You can get post animes, news and comments to both of them after creating a user through the sidebar that is activated by the button on the top-leftmost corner of the screen. You only need a unique username and a password, no e-mail is needed. ",Object(d.jsx)("br",{})," After signing in, the animelist contains titles you can search through various filters and also post your own favorite titles. The same goes for the news tab. Every anime and news page contains a comment functionality at the bottom, and your username and the date of the comment is shown to everyone else. "]}),Object(d.jsxs)("div",{className:"about-item",children:[" ",Object(d.jsx)("div",{className:"about-rules",children:" Rules"})," Comments are meant for discussion and your own thoughts, any inflammatory comments will be deleted. "]})]})},H=function(e){var t=e.user,n=e.logout,s=e.helper,a=Object(r.useState)(null),c=Object(i.a)(a,2),o=c[0],l=c[1];return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getUserId(t.user_id);case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsx)("button",{onClick:function(){document.getElementsByClassName("sidebar")[0].style.left="-225px"},className:"gg-close"}),Object(d.jsx)("div",{className:"profile-div",children:Object(d.jsx)("img",{className:"profile",src:o?o.profile:"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",alt:""})}),Object(d.jsx)("p",{className:"profile-text",children:t.username}),Object(d.jsxs)("ul",{children:[""==t.username?"":Object(d.jsx)("li",{className:"open-profile",children:Object(d.jsx)(u.b,{to:"/settings",children:" Profile "})}),""==t.username?Object(d.jsx)("li",{className:"login-class",children:Object(d.jsx)("button",{className:"login",onClick:function(){document.getElementsByClassName("container-form")[0].style.display="block",document.getElementsByClassName("container-form-user")[0].style.display="none"},children:" Login "})}):Object(d.jsx)("li",{children:Object(d.jsx)("button",{className:"logout",onClick:n,children:"Logout"})}),""==t.username?Object(d.jsxs)("li",{children:[Object(d.jsx)("button",{onClick:function(){document.querySelector(".container-form-user").style.display="block",document.getElementsByClassName("container-form")[0].style.display="none"},className:"signup",children:" Sign up "})," "]}):""]})]})},J=function(e){var t=e.setUser,n=e.setErrorMessage,s=Object(r.useState)(""),a=Object(i.a)(s,2),c=a[0],o=a[1],l=Object(r.useState)(""),u=Object(i.a)(l,2),m=u[0],j=u[1],p=Object(r.useState)(),h=Object(i.a)(p,2),O=h[0],x=h[1],v=function(){var e=Object(f.a)(b.a.mark((function e(r){var s,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,document.querySelector(".container-form").style.display="none",e.next=5,L.login({username:m,password:c});case 5:if("invalid username or password"!=(s=e.sent).message){e.next=12;break}return n("Wrong username or password"),O&&clearTimeout(O),a=setTimeout((function(){n(null)}),3e3),x(a),e.abrupt("return");case 12:window.localStorage.setItem("loggedUser",JSON.stringify(s)),L.setToken(s.token),t(s),j(""),o(""),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(1),n("Wrong username or password"),O&&clearTimeout(O),i=setTimeout((function(){n(null)}),3e3),x(i);case 25:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container-form",children:[Object(d.jsx)("h2",{className:"login-title",children:"Login"}),Object(d.jsxs)("form",{onSubmit:function(e){return v(e)},className:"form",children:[Object(d.jsx)("label",{htmlFor:"username",children:" username "}),Object(d.jsx)("input",{className:"input-username",required:!0,minLength:3,maxLength:25,type:"text",value:m,name:"Username",onChange:function(e){var t=e.target;return j(t.value)}}),Object(d.jsx)("label",{htmlFor:"password",children:" password "}),Object(d.jsx)("input",{className:"input-password",required:!0,minLength:3,maxLength:30,type:"password",value:c,name:"Password",onChange:function(e){var t=e.target;return o(t.value)}}),Object(d.jsx)("button",{className:"login-button",type:"submit",children:"login"})]}),Object(d.jsx)("button",{className:"hide-login",onClick:function(){return document.getElementsByClassName("container-form")[0].style.display="none"},children:"hide"})]})},V=function(e){var t=e.setErrorMessage,n=e.setAnimes,s=Object(r.useState)(""),a=Object(i.a)(s,2),c=a[0],o=a[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),j=m[0],p=m[1],h=Object(r.useState)(""),O=Object(i.a)(h,2),x=O[0],v=O[1],g=Object(r.useState)(""),N=Object(i.a)(g,2),y=N[0],w=N[1],k=Object(r.useState)(),S=Object(i.a)(k,2),C=S[0],T=S[1],E=function(){var e=Object(f.a)(b.a.mark((function e(r){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,document.querySelector(".anime-form").style.display="none",e.next=5,L.create({title:c,description:j,genres:y,url:x});case 5:o(""),p(""),v(""),w(""),l.a.get("/api/animelist").then((function(e){return n(e)})).catch((function(e){return console.log(e)})),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),t("Could not add anime"),C&&clearTimeout(C),s=setTimeout((function(){t(null)}),3e3),T(s);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"anime-form",children:[Object(d.jsx)("h2",{children:"Basic information"}),Object(d.jsxs)("form",{onSubmit:function(e){return E(e)},className:"form",children:[Object(d.jsxs)("div",{children:["anime title",Object(d.jsx)("input",{id:"animename",required:!0,minLength:2,type:"text",value:c,name:"Animename",onChange:function(e){var t=e.target;return o(t.value)}})]}),Object(d.jsxs)("div",{children:["description",Object(d.jsx)("textarea",{id:"description",required:!0,minLength:2,type:"text",value:j,name:"Description",onChange:function(e){var t=e.target;return p(t.value)}})]}),Object(d.jsxs)("div",{children:["genres",Object(d.jsx)("input",{id:"genres",required:!0,minLength:2,type:"text",value:y,name:"Genres",onChange:function(e){var t=e.target;return w(t.value)}})]}),Object(d.jsxs)("div",{children:["img url (optional)",Object(d.jsx)("input",{id:"img-url",type:"text",value:x,name:"Img-url",onChange:function(e){var t=e.target;return v(t.value)}})]}),Object(d.jsx)("button",{className:"create-anime-button",id:"login-button",type:"submit",children:" Post "})]}),Object(d.jsx)("button",{className:"hide-animeform",onClick:function(){return document.querySelector(".anime-form").style.display="none"},children:" hide "})]})},W=function(e){var t=e.setErrorMessage,n=e.setNews,s=Object(r.useState)(""),a=Object(i.a)(s,2),c=a[0],o=a[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),j=m[0],p=m[1],h=Object(r.useState)(),O=Object(i.a)(h,2),x=O[0],v=O[1],g=function(){var e=Object(f.a)(b.a.mark((function e(r){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,document.querySelector(".news-form").style.display="none",e.next=5,L.createNews({title:c,description:j});case 5:o(""),p(""),l.a.get("/api/animelist/news").then((function(e){return n(e)})).catch((function(e){return console.log(e)})),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),t("Could not add news"),x&&clearTimeout(x),s=setTimeout((function(){t(null)}),3e3),v(s);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"news-form",children:[Object(d.jsx)("h2",{children:"Basic information"}),Object(d.jsxs)("form",{onSubmit:function(e){return g(e)},className:"form",children:[Object(d.jsx)("label",{htmlFor:"newstitle",children:" news title "}),Object(d.jsx)("input",{required:!0,minLength:2,maxLength:100,id:"newsform",type:"text",value:c,name:"NewsName",onChange:function(e){var t=e.target;return o(t.value)}}),Object(d.jsx)("label",{htmlFor:"description",children:" description "}),Object(d.jsx)("textarea",{required:!0,minLength:10,maxLength:6e3,id:"description",type:"text",value:j,name:"Description",onChange:function(e){var t=e.target;return p(t.value)}}),Object(d.jsx)("button",{className:"create-news-button",id:"login-button",type:"submit",children:"Post"})]}),Object(d.jsx)("button",{className:"hide-newsform",onClick:function(){return document.getElementsByClassName("news-form")[0].style.display="none"},children:"hide"})]})},Y=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(""),c=Object(i.a)(a,2),o=c[0],l=c[1],u=Object(r.useState)(null),m=Object(i.a)(u,2),j=m[0],p=m[1],h=Object(r.useState)(),O=Object(i.a)(h,2),x=O[0],v=O[1],g=function(){var e=Object(f.a)(b.a.mark((function e(t){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,document.querySelector(".container-form-user").style.display="none",e.next=5,L.createUser({username:n,password:o});case 5:e.sent,s(""),l(""),document.querySelector(".container-form").style.display="block",p("Successfully created a user, please login now"),x&&clearTimeout(x),r=setTimeout((function(){p(null)}),5e3),v(r),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(1),p("Could not create a user, please try a different username"),x&&clearTimeout(x),a=setTimeout((function(){p(null)}),5e3),v(a);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{message:j}),Object(d.jsxs)("div",{className:"container-form-user",children:[Object(d.jsx)("h2",{className:"login-title",children:"Create new user"}),Object(d.jsxs)("form",{onSubmit:function(e){return g(e)},className:"form",children:[Object(d.jsx)("label",{htmlFor:"username",children:" username "}),Object(d.jsx)("input",{className:"userform-username",required:!0,minLength:3,maxLength:25,id:"username",type:"text",value:n,name:"Username",onChange:function(e){var t=e.target;return s(t.value)}}),Object(d.jsx)("label",{htmlFor:"password",children:" password "}),Object(d.jsx)("input",{className:"userform-password",required:!0,minLength:3,maxLength:30,id:"password",type:"password",value:o,name:"Password",onChange:function(e){var t=e.target;return l(t.value)}}),Object(d.jsx)("button",{className:"create-user-button",id:"create-user-button",type:"submit",children:" Create "})]}),Object(d.jsx)("button",{className:"hide-login",onClick:function(){document.getElementsByClassName("container-form-user")[0].style.display="none",document.getElementsByClassName("container-form")[0].style.display="none"},children:" hide "})]})]})},K=function(e){var t=e.user,n=e.setErrorMessage,s=e.helper,a=e.setHelper,c=Object(r.useState)(null),o=Object(i.a)(c,2),l=o[0],m=o[1],j=Object(r.useState)(""),p=Object(i.a)(j,2),h=p[0],O=p[1],x=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,document.querySelector(".picture-form").style.display="none",e.next=5,L.updateP(l.id,{profile:h});case 5:O(""),a(!s),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n("Could not change profile picture"),setTimeout((function(){n(null)}),3e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getUserId(t.user_id);case 2:n=e.sent,m(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(d.jsxs)("div",{className:"settings",children:[Object(d.jsxs)("div",{className:"picture-form",children:[Object(d.jsx)("h2",{className:"login-title",children:"Edit profile picture"}),Object(d.jsxs)("form",{onSubmit:function(e){return x(e)},className:"form",children:[Object(d.jsx)("label",{htmlFor:"url",children:" profile picture url "}),Object(d.jsx)("input",{className:"profile-url",required:!0,minLength:3,maxLength:2e3,id:"url",type:"text",value:h,name:"url",onChange:function(e){var t=e.target;return O(t.value)}}),Object(d.jsx)("button",{className:"change-profile-button",id:"login-button",type:"submit",children:" Change "})]}),Object(d.jsx)("button",{className:"hide-animeform",onClick:function(){return document.querySelector(".picture-form").style.display="none"},children:" hide "})]}),Object(d.jsxs)("div",{className:"profile-upper",children:[Object(d.jsxs)("div",{className:"settings-pair",children:[" username:  ",t.username," "]}),Object(d.jsxs)("div",{className:"settings-pair",children:[" joined: ",l?l.joined.slice(0,10).replace("T"," ").replace(/-/g,"/"):""," "]}),Object(d.jsx)("button",{onClick:function(){return document.querySelector(".picture-form").style.display="block"},className:"change-profile",children:" Change avatar "}),Object(d.jsx)("img",{className:"profile-picture",src:l?l.profile:"",alt:""})]}),Object(d.jsxs)("div",{className:"posted-anime",children:[" Posted anime ",null!==l&&"undefined"!==typeof l?l.animes.slice(0).reverse().map((function(e){return Object(d.jsx)("span",{className:"settings-span",children:Object(d.jsxs)(u.b,{to:"animelist/".concat(e._id),children:[" ",e.title+" "]})},Math.random())})):""," "]}),Object(d.jsxs)("div",{className:"posted-news",children:[" Posted news ",null!==l&&"undefined"!==typeof l?l.news.slice(0).reverse().map((function(e){return Object(d.jsx)("span",{className:"settings-span",children:Object(d.jsx)(u.b,{to:"news/".concat(e._id),children:e.title+" "})},Math.random())})):""," "]}),Object(d.jsxs)("div",{className:"liked-anime",children:[" Posted comments (anime) ",null!==l&&"undefined"!==typeof l?l.comments.slice(0).reverse().map((function(e){return Object(d.jsx)("span",{className:"settings-span",children:e+" "},Math.random())})):""," "]}),Object(d.jsxs)("div",{className:"liked-news",children:[" Posted comments (news) ",null!==l&&"undefined"!==typeof l?l.commentsN.slice(0).reverse().map((function(e){return Object(d.jsx)("span",{className:"settings-span",children:e+" "},Math.random())})):""," "]}),Object(d.jsxs)("div",{className:"posted-comments",children:[" Liked anime ",null!==l&&"undefined"!==typeof l?l.likes.slice(0).reverse().map((function(e){return Object(d.jsx)("span",{className:"settings-span",children:Object(d.jsx)(u.b,{to:"animelist/".concat(e._id),children:e.title+" "})},Math.random())})):""," "]})]})},Q=function(e){var t=e.id,n=e.news,s=e.setErrorMessage,a=e.setHelper,c=e.helper,o=e.user,l=Object(r.useState)(""),u=Object(i.a)(l,2),m=u[0],j=u[1],p=Object(r.useState)(),h=Object(i.a)(p,2),O=h[0],x=h[1],v=function(){var e=Object(f.a)(b.a.mark((function e(t,r,i){var o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,document.querySelector(".container-form-2").style.display="none",(o=n.data.find((function(e){return e._id==r}))).comment.push(i),e.next=7,L.updateN(r,o);case 7:j(""),a(!c),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),s("Could not post comment"),O&&clearTimeout(O),l=setTimeout((function(){s(null)}),3e3),x(l);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container-form-2",children:[Object(d.jsx)("h2",{className:"login-title",children:" Post a comment "}),Object(d.jsxs)("form",{onSubmit:function(e){return v(e,t,{text:m,person:o.username})},className:"form",children:[Object(d.jsx)("label",{htmlFor:"comment",children:" Comment "}),Object(d.jsx)("textarea",{className:"comment-desc",minLength:2,maxLength:1e3,required:!0,id:"comment",type:"text",value:m,name:"comment",onChange:function(e){var t=e.target;return j(t.value)}}),Object(d.jsx)("button",{className:"create-comment-button",id:"login-button",type:"submit",children:" Post "})]}),Object(d.jsx)("button",{className:"hide-login",onClick:function(){return document.getElementsByClassName("container-form-2")[0].style.display="none"},children:" Cancel "})]})},X=function(e){var t=e.title,n=e.date,s=e.description,a=e.id,c=e.deleteNews,o=e.user,l=e.username,m=e.comment,j=e.news,b=Object(r.useState)(!1),p=Object(i.a)(b,2),f=p[0],h=p[1],O=Object(r.useState)(null),x=Object(i.a)(O,2),v=x[0],g=x[1];return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{message:v}),Object(d.jsx)(Q,{user:o,setErrorMessage:g,news:j,helper:f,setHelper:h,id:a}),Object(d.jsxs)("div",{className:"news-main",children:[Object(d.jsxs)("div",{className:"news-title",children:[t,Object(d.jsx)("br",{}),n]}),Object(d.jsx)("div",{className:"news-description",children:s}),Object(d.jsxs)(u.b,{style:{textDecoration:"none"},to:"/news/"+a,children:[" ",Object(d.jsx)("div",{className:"read-more",children:" Read more "})]})]}),Object(d.jsx)("button",{className:"show-comment-form-news",onClick:function(){return document.querySelector(".container-form-2").style.display="block"},children:" Comment "}),o.username==l?Object(d.jsx)("button",{className:"delete-news",onClick:function(){return c(t,a)},children:" Delete "}):"",Object(d.jsxs)("div",{className:"all-comments",children:[" ",m.slice(0).reverse().map((function(e){return Object(d.jsxs)("div",{className:"comment-container",children:[Object(d.jsxs)("div",{className:"comment-time",children:[" ",e.date?e.date.slice(0,19).replace("T"," ").replace(/-/g,"/"):(new Date).toJSON().slice(0,19).replace("T"," ").replace(/-/g,"/"),"  ","posted by "+e.person," "]})," ",Object(d.jsxs)("div",{className:"comment-d",children:[" ",e.text," "]})," "]},Math.random())}))," "]})]})},Z=function(e){var t=e.title,n=e.description,r=e.genres,s=e.url;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"animeobject-img",children:[Object(d.jsx)("div",{className:"animeobject-title",children:t}),Object(d.jsx)("img",{className:"actual-img",src:s,alt:"No picture"})]}),Object(d.jsxs)("div",{className:"g",children:[" ",Object(d.jsx)("div",{className:"genres-text",children:" Genres "})," ",r," "]}),Object(d.jsxs)("div",{className:"animeobject-description-2",children:[Object(d.jsx)("div",{className:"d",children:" Description "}),n]})]})},$=function(e){var t=e.title,n=e.date,r=e.description,s=e.id;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"news-main",children:[Object(d.jsxs)("div",{className:"news-title",children:[t,Object(d.jsx)("br",{}),n]}),Object(d.jsx)("div",{className:"news-description",children:r}),Object(d.jsxs)(u.b,{style:{textDecoration:"none"},to:"/news/"+s,children:[" ",Object(d.jsx)("div",{className:"read-more",children:" Read more "})]})]})})};var ee=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)([]),o=Object(i.a)(a,2),j=o[0],b=o[1],p=Object(r.useState)(null),f=Object(i.a)(p,2),h=f[0],O=f[1],x=Object(r.useState)(""),v=Object(i.a)(x,2),g=v[0],N=v[1],y=Object(r.useState)("Genre"),w=Object(i.a)(y,2),k=w[0],S=w[1],C=Object(r.useState)("Order"),T=Object(i.a)(C,2),E=T[0],A=T[1],q=Object(r.useState)(!1),P=Object(i.a)(q,2),F=P[0],U=P[1],I=Object(r.useState)(!1),Q=Object(i.a)(I,2),ee=Q[0],te=Q[1],ne=Object(r.useState)(!1),re=Object(i.a)(ne,2),se=re[0],ae=re[1],ce=Object(r.useState)(!1),ie=Object(i.a)(ce,2),oe=ie[0],le=ie[1],ue=Object(r.useState)(null),de=Object(i.a)(ue,2),me=de[0],je=de[1],be=Object(r.useState)(),pe=Object(i.a)(be,2),fe=pe[0],he=pe[1],Oe=Object(r.useState)(!1),xe=Object(i.a)(Oe,2),ve=xe[0],ge=xe[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);O(t),L.setToken(t.token)}}),[]),Object(r.useEffect)((function(){l.a.get("/api/animelist").then((function(e){return s(e)})).catch((function(e){return console.log(e)})),l.a.get("/api/animelist/news").then((function(e){return b(e)})).catch((function(e){return console.log(e)}))}),[]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]);var Ne=function(){var e=Object(D.f)().id;if("undefined"==typeof j.data)return Object(d.jsx)("div",{});var t=j.data.filter((function(t){return t._id==e}))[0];return Object(d.jsxs)("div",{className:"filter-news",children:[" ",Object(d.jsx)(X,{news:j,user:h,comment:t.comment,username:t.user.username,title:t.title,description:t.description,id:e,deleteNews:Ae},e)," "]})},ye=function(){var e=Object(D.f)().id;if("undefined"==typeof j.data)return Object(d.jsx)("div",{});var t=j.data.filter((function(t){return t._id==e}))[0];return Object(d.jsxs)("div",{className:"filter-news",children:["  ",Object(d.jsx)($,{title:t.title,description:t.description,id:e},e)," "]})},we=function(){var e,t=Object(D.f)().id;if("undefined"==typeof n.data)return Object(d.jsx)("div",{});var r=n.data.filter((function(e){return e._id==t}))[0];return Object(d.jsxs)("div",{className:"filter-anime",children:["  ",Object(d.jsx)(M,(e={animes:n,setAnimes:s},Object(c.a)(e,"setAnimes",s),Object(c.a)(e,"setErrorMessage",je),Object(c.a)(e,"user",h),Object(c.a)(e,"comment",r.comment),Object(c.a)(e,"changeVisibility",Ce),Object(c.a)(e,"deleteAnime",Ee),Object(c.a)(e,"title",r.title),Object(c.a)(e,"username",r.user.username),Object(c.a)(e,"description",r.description),Object(c.a)(e,"likes",r.likes),Object(c.a)(e,"genres",r.genres),Object(c.a)(e,"id",r._id),Object(c.a)(e,"url",r.url),e),t)," "]})},ke=function(){var e=Object(D.f)().id;if("undefined"==typeof n.data)return Object(d.jsx)("div",{});var t=n.data.filter((function(t){return t._id==e}))[0];return Object(d.jsxs)("div",{className:"filter-anime",children:["  ",Object(d.jsx)(Z,{comment:t.comment,changeVisibility:Ce,title:t.title,description:t.description,likes:t.likes,genres:t.genres,id:t._id,url:t.url},e)," "]})},Se=function(){if("undefined"==typeof n||0==n.length)return Object(d.jsx)("div",{});var e=n.data.filter((function(e){return e.title.toLowerCase().includes(g.toLowerCase())})).slice(0).reverse();return"Genre"==k&&"Order"==E||("Likes"==E&&(e=e.sort((function(e,t){return e.likes>t.likes?-1:1}))),"Newest"==E&&(e=e.sort((function(e,t){return e.date>t.date?-1:1}))),"Oldest"==E&&(e=e.sort((function(e,t){return e.date<t.date?-1:1}))),"Genre"!=k&&(e=e.filter((function(e){return e.genres.includes(k.toLowerCase())})))),e.map((function(e){return Object(d.jsx)(m,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)}))},Ce=function(){ae(!se)},Te=function(){le(!oe)},Ee=function(e,t){if(window.confirm("Remove the anime '".concat(e,"'?")))try{L.del(t,h.user_id),window.location.replace("/animelist")}catch(r){je("Could not remove the anime"),fe&&clearTimeout(fe);var n=setTimeout((function(){je(null)}),3e3);he(n)}},Ae=function(e,t){if(window.confirm("Remove the news '".concat(e,"'?")))try{L.delN(t,h.user_id),window.location.replace("/news")}catch(r){je("Could not remove news"),fe&&clearTimeout(fe);var n=setTimeout((function(){je(null)}),3e3);he(n)}};return h?Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(B,{}),Object(d.jsx)(_,{message:me}),Object(d.jsx)(H,{helper:ve,setHelper:ge,user:h,logout:function(){window.localStorage.removeItem("loggedUser"),document.querySelector(".container-form").style.display="none",O(null),je(null)}}),Object(d.jsx)(J,{setUser:O,setErrorMessage:je}),Object(d.jsxs)(D.c,{children:[Object(d.jsxs)(D.a,{path:"/settings",children:[" ",Object(d.jsx)(K,{helper:ve,setHelper:ge,setAnimes:s,user:h,setErrorMessage:je,animes:n})," "]}),Object(d.jsxs)(D.a,{path:"/animelist/:id",children:["  ",Object(d.jsx)(we,{})," "]}),Object(d.jsxs)(D.a,{path:"/animelist",children:[" ",Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(V,{setErrorMessage:je,setAnimes:s})," ",Object(d.jsx)(G,{user:h,genre:k,setGenre:S,order:E,setOrder:A,search:g,setSearch:N}),"  ",Object(d.jsxs)("div",{className:"container",children:["   ",Object(d.jsx)(Se,{})," "]})," "]})," "]}),Object(d.jsxs)(D.a,{path:"/news/:id",children:["  ",Object(d.jsx)(Ne,{}),"  "]}),Object(d.jsxs)(D.a,{path:"/news",children:[" ",Object(d.jsx)(W,{setNews:b,setErrorMessage:je,changeVisibility:function(){te(!ee)}})," ",Object(d.jsx)("button",{className:"post-news",onClick:function(){return document.querySelector(".news-form").style.display="block"},children:"Post News"}),"   ",Object(d.jsxs)("div",{className:"container-2",children:["   ","undefined"!=typeof j.data?j.data.slice(0).reverse().map((function(e){return Object(d.jsx)(R,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)})):""," "]})]}),Object(d.jsxs)(D.a,{path:"/about",children:["  ",Object(d.jsx)(z,{}),"  "]}),Object(d.jsxs)(D.a,{path:"/",children:[" ",Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("span",{className:"title-4",children:" Animes "}),"   ",Object(d.jsxs)("div",{className:"container-4",children:["   ","undefined"!=typeof n.data?n.data.slice(-14).map((function(e){return Object(d.jsx)(m,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)})):"","    "]})," ",Object(d.jsx)("div",{className:"title-5",children:" News "})," ",Object(d.jsxs)("div",{className:"container-5",children:["    ","undefined"!=typeof j.data?j.data.slice(-16).reverse().map((function(e){return Object(d.jsx)(R,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)})):""," "]})]}),"  "]})]})]})}):Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(B,{changeVisibility:Te}),Object(d.jsx)(_,{message:me}),Object(d.jsx)(H,{user:{username:""}}),Object(d.jsx)(J,{setUser:O,setErrorMessage:je}),Object(d.jsx)(Y,{changeVisibility:Te}),Object(d.jsxs)(D.c,{children:[Object(d.jsxs)(D.a,{path:"/animelist/:id",children:["  ",Object(d.jsx)(ke,{})," "]}),Object(d.jsxs)(D.a,{path:"/animelist",children:[" ",Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(G,{setAnimevisible:function(){U(!F)},genre:k,setGenre:S,order:E,setOrder:A,search:g,setSearch:N})," ",Object(d.jsxs)("div",{className:"container",children:["  ",Object(d.jsx)(Se,{}),"  "]})," "]}),"   "]}),Object(d.jsxs)(D.a,{path:"/news/:id",children:["  ",Object(d.jsx)(ye,{}),"  "]}),Object(d.jsxs)(D.a,{path:"/news",children:[" ",Object(d.jsxs)("div",{className:"container-2",children:[" ","undefined"!=typeof j.data?j.data.slice(0).reverse().map((function(e){return Object(d.jsx)(R,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)})):""," "]})]}),Object(d.jsxs)(D.a,{path:"/about",children:["  ",Object(d.jsx)(z,{}),"   "]}),Object(d.jsxs)(D.a,{path:"/",children:[Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"title-4",children:" Animes "})," ",Object(d.jsxs)("div",{className:"container-4",children:[" ","undefined"!=typeof n.data?n.data.slice(-14).map((function(e){return Object(d.jsx)(m,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)})):""," "]})," ",Object(d.jsx)("div",{className:"title-5",children:" News "}),"   ",Object(d.jsxs)("div",{className:"container-5",children:["   ","undefined"!=typeof j.data?j.data.slice(-16).map((function(e){return Object(d.jsx)(R,{id:e._id,title:e.title,description:e.description,url:e.url},e._id)})):""," "]}),"   "]}),"   "]})]})]})})};a.a.render(Object(d.jsx)(ee,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.c5d61326.chunk.js.map